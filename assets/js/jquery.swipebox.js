(function(e,i,t,s){t.swipebox=function(o,a){var n,r={useCSS:true,useSVG:true,initialIndexOnArray:0,removeBarsOnMobile:true,hideCloseButtonOnMobile:false,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,nextSlide:null,prevSlide:null,loopAtEnd:false,autoplayVideos:false,queryStringData:{},toggleClassOnLoad:""},l=this,d=[],p,f=o.selector,c=t(f),b=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),u=b!==null||i.createTouch!==s||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,h=!!i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,w=e.innerWidth?e.innerWidth:t(e).width(),g=e.innerHeight?e.innerHeight:t(e).height(),m=0,v='<div id="swipebox-overlay">					<div id="swipebox-container">						<div id="swipebox-slider"></div>						<div id="swipebox-top-bar">							<div id="swipebox-title"></div>						</div>						<div id="swipebox-bottom-bar">							<div id="swipebox-arrows">								<a id="swipebox-prev"></a>								<a id="swipebox-next"></a>							</div>						</div>						<a id="swipebox-close"></a>					</div>			</div>';l.settings={};t.swipebox.close=function(){n.closeSlide()};t.swipebox.extend=function(){return n};l.init=function(){l.settings=t.extend({},r,a);if(t.isArray(o)){d=o;n.target=t(e);n.init(l.settings.initialIndexOnArray)}else{t(i).on("click",f,function(e){if(e.target.parentNode.className==="slide current"){return false}if(!t.isArray(o)){n.destroy();p=t(f);n.actions()}d=[];var i,s,a;if(!a){s="data-rel";a=t(this).attr(s)}if(!a){s="rel";a=t(this).attr(s)}if(a&&a!==""&&a!=="nofollow"){p=c.filter("["+s+'="'+a+'"]')}else{p=t(f)}p.each(function(){var e=null,i=null;if(t(this).attr("title")){e=t(this).attr("title")}if(t(this).attr("href")){i=t(this).attr("href")}d.push({href:i,title:e})});i=p.index(t(this));e.preventDefault();e.stopPropagation();n.target=t(e.target);n.init(i)})}};n={init:function(e){if(l.settings.beforeOpen){l.settings.beforeOpen()}this.target.trigger("swipebox-start");t.swipebox.isOpen=true;this.build();this.openSlide(e);this.openMedia(e);this.preloadMedia(e+1);this.preloadMedia(e-1);if(l.settings.afterOpen){l.settings.afterOpen()}},build:function(){var e=this,i;t("body").append(v);if(h&&l.settings.useSVG===true){i=t("#swipebox-close").css("background-image");i=i.replace("png","svg");t("#swipebox-prev, #swipebox-next, #swipebox-close").css({"background-image":i})}if(b&&l.settings.removeBarsOnMobile){t("#swipebox-bottom-bar, #swipebox-top-bar").remove()}t.each(d,function(){t("#swipebox-slider").append('<div class="slide"></div>')});e.setDim();e.actions();if(u){e.gesture()}e.keyboard();e.animBars();e.resize()},setDim:function(){var i,s,o={};if("onorientationchange"in e){e.addEventListener("orientationchange",function(){if(e.orientation===0){i=w;s=g}else if(e.orientation===90||e.orientation===-90){i=g;s=w}},false)}else{i=e.innerWidth?e.innerWidth:t(e).width();s=e.innerHeight?e.innerHeight:t(e).height()}o={width:i,height:s};t("#swipebox-overlay").css(o)},resize:function(){var i=this;t(e).resize(function(){i.setDim()}).resize()},supportTransition:function(){var e="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" "),t;for(t=0;t<e.length;t++){if(i.createElement("div").style[e[t]]!==s){return e[t]}}return false},doCssTrans:function(){if(l.settings.useCSS&&this.supportTransition()){return true}},gesture:function(){var e=this,i,s,o,a,n,r,l=false,p=false,f=10,c=50,b={},u={},h=t("#swipebox-top-bar, #swipebox-bottom-bar"),g=t("#swipebox-slider");h.addClass("visible-bars");e.setTimeout();t("body").bind("touchstart",function(e){t(this).addClass("touching");i=t("#swipebox-slider .slide").index(t("#swipebox-slider .slide.current"));u=e.originalEvent.targetTouches[0];b.pageX=e.originalEvent.targetTouches[0].pageX;b.pageY=e.originalEvent.targetTouches[0].pageY;t("#swipebox-slider").css({"-webkit-transform":"translate3d("+m+"%, 0, 0)",transform:"translate3d("+m+"%, 0, 0)"});t(".touching").bind("touchmove",function(e){e.preventDefault();e.stopPropagation();u=e.originalEvent.targetTouches[0];if(!p){n=o;o=u.pageY-b.pageY;if(Math.abs(o)>=c||l){var h=.75-Math.abs(o)/g.height();g.css({top:o+"px"});g.css({opacity:h});l=true}}a=s;s=u.pageX-b.pageX;r=s*100/w;if(!p&&!l&&Math.abs(s)>=f){t("#swipebox-slider").css({"-webkit-transition":"",transition:""});p=true}if(p){if(0<s){if(0===i){t("#swipebox-overlay").addClass("leftSpringTouch")}else{t("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch");t("#swipebox-slider").css({"-webkit-transform":"translate3d("+(m+r)+"%, 0, 0)",transform:"translate3d("+(m+r)+"%, 0, 0)"})}}else if(0>s){if(d.length===i+1){t("#swipebox-overlay").addClass("rightSpringTouch")}else{t("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch");t("#swipebox-slider").css({"-webkit-transform":"translate3d("+(m+r)+"%, 0, 0)",transform:"translate3d("+(m+r)+"%, 0, 0)"})}}}});return false}).bind("touchend",function(i){i.preventDefault();i.stopPropagation();t("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"});o=u.pageY-b.pageY;s=u.pageX-b.pageX;r=s*100/w;if(l){l=false;if(Math.abs(o)>=2*c&&Math.abs(o)>Math.abs(n)){var d=o>0?g.height():-g.height();g.animate({top:d+"px",opacity:0},300,function(){e.closeSlide()})}else{g.animate({top:0,opacity:1},300)}}else if(p){p=false;if(s>=f&&s>=a){e.getPrev()}else if(s<=-f&&s<=a){e.getNext()}}else{if(!h.hasClass("visible-bars")){e.showBars();e.setTimeout()}else{e.clearTimeout();e.hideBars()}}t("#swipebox-slider").css({"-webkit-transform":"translate3d("+m+"%, 0, 0)",transform:"translate3d("+m+"%, 0, 0)"});t("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch");t(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(l.settings.hideBarsDelay>0){var i=this;i.clearTimeout();i.timeout=e.setTimeout(function(){i.hideBars()},l.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout);this.timeout=null},showBars:function(){var e=t("#swipebox-top-bar, #swipebox-bottom-bar");if(this.doCssTrans()){e.addClass("visible-bars")}else{t("#swipebox-top-bar").animate({top:0},500);t("#swipebox-bottom-bar").animate({bottom:0},500);setTimeout(function(){e.addClass("visible-bars")},1e3)}},hideBars:function(){var e=t("#swipebox-top-bar, #swipebox-bottom-bar");if(this.doCssTrans()){e.removeClass("visible-bars")}else{t("#swipebox-top-bar").animate({top:"-50px"},500);t("#swipebox-bottom-bar").animate({bottom:"-50px"},500);setTimeout(function(){e.removeClass("visible-bars")},1e3)}},animBars:function(){var e=this,i=t("#swipebox-top-bar, #swipebox-bottom-bar");i.addClass("visible-bars");e.setTimeout();t("#swipebox-slider").click(function(){if(!i.hasClass("visible-bars")){e.showBars();e.setTimeout()}});t("#swipebox-bottom-bar").hover(function(){e.showBars();i.addClass("visible-bars");e.clearTimeout()},function(){if(l.settings.hideBarsDelay>0){i.removeClass("visible-bars");e.setTimeout()}})},keyboard:function(){var i=this;t(e).bind("keyup",function(e){e.preventDefault();e.stopPropagation();if(e.keyCode===37){i.getPrev()}else if(e.keyCode===39){i.getNext()}else if(e.keyCode===27){i.closeSlide()}})},actions:function(){var e=this,i="touchend click";if(d.length<2){t("#swipebox-bottom-bar").hide();if(s===d[1]){t("#swipebox-top-bar").hide()}}else{t("#swipebox-prev").bind(i,function(i){i.preventDefault();i.stopPropagation();e.getPrev();e.setTimeout()});t("#swipebox-next").bind(i,function(i){i.preventDefault();i.stopPropagation();e.getNext();e.setTimeout()})}t("#swipebox-close").bind(i,function(){e.closeSlide()})},setSlide:function(e,i){i=i||false;var s=t("#swipebox-slider");m=-e*100;if(this.doCssTrans()){s.css({"-webkit-transform":"translate3d("+-e*100+"%, 0, 0)",transform:"translate3d("+-e*100+"%, 0, 0)"})}else{s.animate({left:-e*100+"%"})}t("#swipebox-slider .slide").removeClass("current");t("#swipebox-slider .slide").eq(e).addClass("current");this.setTitle(e);if(i){s.fadeIn()}t("#swipebox-prev, #swipebox-next").removeClass("disabled");if(e===0){t("#swipebox-prev").addClass("disabled")}else if(e===d.length-1&&l.settings.loopAtEnd!==true){t("#swipebox-next").addClass("disabled")}},openSlide:function(i){t("html").addClass("swipebox-html");if(u){t("html").addClass("swipebox-touch");if(l.settings.hideCloseButtonOnMobile){t("html").addClass("swipebox-no-close-button")}}else{t("html").addClass("swipebox-no-touch")}t(e).trigger("resize");this.setSlide(i,true)},preloadMedia:function(e){var i=this,t=null;if(d[e]!==s){t=d[e].href}if(!i.isVideo(t)){setTimeout(function(){i.openMedia(e)},1e3)}else{i.openMedia(e)}},openMedia:function(e){var i=this,o,a;if(d[e]!==s){o=d[e].href}if(e<0||e>=d.length){return false}a=t("#swipebox-slider .slide").eq(e);if(!i.isVideo(o)){a.addClass("slide-loading");i.loadMedia(o,function(){a.removeClass("slide-loading");a.html(this)})}else{a.html(i.getVideo(o))}},setTitle:function(e){var i=null;t("#swipebox-title").empty();if(d[e]!==s){i=d[e].title}if(i){t("#swipebox-top-bar").show();t("#swipebox-title").append(i)}else{t("#swipebox-top-bar").hide()}},isVideo:function(e){if(e){if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)){return true}if(e.toLowerCase().indexOf("swipeboxvideo=1")>=0){return true}}},parseUri:function(e,s){var o=i.createElement("a"),a={};o.href=decodeURIComponent(e);if(o.search){a=JSON.parse('{"'+o.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}')}if(t.isPlainObject(s)){a=t.extend(a,s,l.settings.queryStringData)}return t.map(a,function(e,i){if(e&&e>""){return encodeURIComponent(i)+"="+encodeURIComponent(e)}}).join("&")},getVideo:function(e){var i="",t=e.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),s=e.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),o=e.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),a="";if(t||s){if(s){t=s}a=n.parseUri(e,{autoplay:l.settings.autoplayVideos?"1":"0",v:""});i='<iframe width="560" height="315" src="//'+t[1]+"/embed/"+t[2]+"?"+a+'" frameborder="0" allowfullscreen></iframe>'}else if(o){a=n.parseUri(e,{autoplay:l.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:l.settings.vimeoColor});i='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+o[1]+"?"+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else{i='<iframe width="560" height="315" src="'+e+'" frameborder="0" allowfullscreen></iframe>'}return'<div class="swipebox-video-container" style="max-width:'+l.settings.videoMaxWidth+'px"><div class="swipebox-video">'+i+"</div></div>"},loadMedia:function(e,i){if(e.trim().indexOf("#")===0){i.call(t("<div>",{"class":"swipebox-inline-container"}).append(t(e).clone().toggleClass(l.settings.toggleClassOnLoad)))}else{if(!this.isVideo(e)){var s=t("<img>").on("load",function(){i.call(s)});s.attr("src",e)}}},getNext:function(){var e=this,i,s=t("#swipebox-slider .slide").index(t("#swipebox-slider .slide.current"));if(s+1<d.length){i=t("#swipebox-slider .slide").eq(s).contents().find("iframe").attr("src");t("#swipebox-slider .slide").eq(s).contents().find("iframe").attr("src",i);s++;e.setSlide(s);e.preloadMedia(s+1);if(l.settings.nextSlide){l.settings.nextSlide()}}else{if(l.settings.loopAtEnd===true){i=t("#swipebox-slider .slide").eq(s).contents().find("iframe").attr("src");t("#swipebox-slider .slide").eq(s).contents().find("iframe").attr("src",i);s=0;e.preloadMedia(s);e.setSlide(s);e.preloadMedia(s+1);if(l.settings.nextSlide){l.settings.nextSlide()}}else{t("#swipebox-overlay").addClass("rightSpring");setTimeout(function(){t("#swipebox-overlay").removeClass("rightSpring")},500)}}},getPrev:function(){var e=t("#swipebox-slider .slide").index(t("#swipebox-slider .slide.current")),i;if(e>0){i=t("#swipebox-slider .slide").eq(e).contents().find("iframe").attr("src");t("#swipebox-slider .slide").eq(e).contents().find("iframe").attr("src",i);e--;this.setSlide(e);this.preloadMedia(e-1);if(l.settings.prevSlide){l.settings.prevSlide()}}else{t("#swipebox-overlay").addClass("leftSpring");setTimeout(function(){t("#swipebox-overlay").removeClass("leftSpring")},500)}},nextSlide:function(){},prevSlide:function(){},closeSlide:function(){t("html").removeClass("swipebox-html");t("html").removeClass("swipebox-touch");t(e).trigger("resize");this.destroy()},destroy:function(){t(e).unbind("keyup");t("body").unbind("touchstart");t("body").unbind("touchmove");t("body").unbind("touchend");t("#swipebox-slider").unbind();t("#swipebox-overlay").remove();if(!t.isArray(o)){o.removeData("_swipebox")}if(this.target){this.target.trigger("swipebox-destroy")}t.swipebox.isOpen=false;if(l.settings.afterClose){l.settings.afterClose()}}};l.init()};t.fn.swipebox=function(e){if(!t.data(this,"_swipebox")){var i=new t.swipebox(this,e);this.data("_swipebox",i)}return this.data("_swipebox")}})(window,document,jQuery);